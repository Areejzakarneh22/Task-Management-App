using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Task_Management__App
{
    internal class Fillter
    {
        CRUD1 cRUD1 = new CRUD1();
        List<TaskBasics> taskList = CRUD1.tasks;


        public void chooseFillter()
        {
            Console.WriteLine("select fillter option 1.dept 2.title 3.assigne ");
            int CH= Convert.ToInt32(Console.ReadLine());
            
            switch (CH)
            {
                case 1: departmentFillter();break;
                case 2: titleFillter(); break;
                default: Console.WriteLine("Bad option ");break;

            }
        }
        public void departmentFillter()
        {
            Console.WriteLine("which department do ou want ");
            string d = Console.ReadLine();

            var filteredResults = from task in taskList
                                  where task.Department == d
                                  select task.Id + "- " + task.Title + " assigne to " + task.Assignee;

            foreach (var result in filteredResults)
            {
                Console.WriteLine(result);
            }
        }

        public void titleFillter()
        {
            Console.WriteLine("which title do you want ");
            string d = Console.ReadLine();

            var filteredResults = from task in taskList
                                  where task.Title == d
                                  select "this task is owned by " + task.Assignee + " who work in " + task.Department + " departmnt ";

            foreach (var result in filteredResults)
            {
                Console.WriteLine(result);
            }
        }

        public void assigneFillter()
        {
            Console.WriteLine("which employee do you want ");
            string d = Console.ReadLine();

            var filteredResults = from task in taskList
                                  where task.Assignee == d
                                  select task.Assignee + " is work on "+task.Title ;

            foreach (var result in filteredResults)
            {
                Console.WriteLine(result);
            }

        }

        public void idFillter()
        {
            Console.WriteLine("which task id  do you want ");
            int m = Convert.ToInt32(Console.ReadLine());

            var filteredResults = from task in taskList
                                  where task.Id == m
                                  select "this task is " + task.Title + "owned by " + task.Own + " who work in " + task.Department + " departmnt ";

            foreach (var result in filteredResults)

                Console.WriteLine(result);

        }

    }
}
